# 设计模式的七大原则

>设计模式主要就是为了应对软件的耦合性、内聚性、可维护性、可扩展性、重用性以及灵活性等方面的挑战。
>在我看来设计模式就是在过去的n多年中，大佬程序员将比较好的代码抽象成一种模板，供程序员们使用，在经过无数程序员的检验之后，出现了23中设计模式，而这23种设计模式有相同的设计目标以及原则。

设计模式有七大原则

 1. 单一职责原则
 2. 接口隔离原则
 3. 依赖倒转原则
 4. 里氏替换原则
 5. 开闭原则
 6. 迪米特法则
 7. 合成复用原则

设计模式的核心思想：

 1. 找到应用中可能需要变化之处，把它们独立出来，不要和那些不变的代码混淆在一起。
 2. 针对接口编程而不是针对实现编程。
 3. 为交互对象之间的松耦合设计而努力。
## 单一职责原则
>一个类应该只有一个发生变化的原因

如果在同一个类中实现的多个职责，这样可能会使不同的职责之间相互影响，一旦某一职责出问题了，可能会导致多个职责均不能使用。

在编程的时候要尽可能的去遵守此原则，尽量的保证一个类只承担一个职责，如果有一个类实现了多个职责，可以想办法将其分解为多个类。

这样做的好处：
 1. 降低类的复杂度
 2. 提高代码的可读性，可维护性
 3. 降低变更带来的风险

## 接口隔离原则
>客户端不应该依赖它不需要的接口。一个类对另一个类的依赖应该建立在最小的接口上。

对于一个类，其实现的接口中的方法都是其必须实现的，对于不必要的方法，尽量采取拆分的方法，将其拆成多个接口。避免实现不必要的方法。

## 依赖倒转原则
>程序要依赖于抽象接口，不要依赖于具体实现。简单的说就是要求对抽象进行编程，不要对实现进行编程，这样就降低了客户与实现模块间的耦合。

依赖倒转原则的中心思想就是面向接口编程。

之所以这样要求是因为一般情况下，从实际的类中抽象出来的接口会比较稳定，不容易发生变化；而具体的类因为涉及到的细节比较多，可能发生一点变化就会影响到依赖这个类的其他方法，从而导致一些不可控的问题。

总之就是使用接口或者抽象类制定好规范，而具体的实现和各种操作交他们的实现类完成。其中，抽象类主要是去制定一种规范，接口则主要是其定义一种行为。


## 里氏替换原则
>使用“抽象”和“多态”将设计中的静态结构改为动态结构，维持设计的封闭性。
>任何基类可以出现的地方，子类一定可以出现。

李氏替换原则其实是为了更好的使用继承关系。对于一个类他拥有其父类的所有方法，继承给程序设计带来了便利性，但是也有其弊端。比如使用继承会给程序带来侵入性，使程序的可移植性降低，增加了对象之间的耦合性；比如一个类被其他类继承之后，如果需要对他进行修改，就需要考虑对其所有子类带来的各种影响，考虑其子类的功能是否会因此产生故障。

在李氏替换原则中，我们要避免子类重写父类的方法，在适当的情况下，我们可以使用聚合、组合和依赖来解决问题，而不是通过继承。
## 开闭原则
>软件中的对象（类，模块，函数等等）应该对于扩展是开放的，但是对于修改是封闭的。

设计模式的其他各个原则，最终的目的就是尽量遵循这个原则。

这个原则的具体理解是这样：对于扩展是开放的，这个是针对提供方（可以理解成服务提供者）；而对于修改是封闭的，这个是说使用方。在我们去扩展软件的功能的时候尽量不要去修改现有的代码，而是通过添加新的代码去实现。
## 迪米特法则
>又叫作最少知识原则，一个类对于其他类知道的越少越好，就是说一个对象应当对其他对象有尽可能少的了解,只和朋友通信，不和陌生人说话。
>还有一个更加简单的定义：只与直接朋友通信。

对于这个原则，简单的来说就是，不管一个类有多复杂，对外只提供封装好的public方法，对外不泄露任何内部信息。

直接朋友：每个对象都可能会与其他的对象有耦合关系，只要这两个对象有耦合关系，我们就说这两个对象之间是朋友。直接朋友是指，出现成员变量、方法参数、方法返回值中的类。
## 合成复用原则
>软件复用时，要尽量先使用组合或者聚合等关联关系来实现，其次才考虑使用继承关系来实现。

我们在使用继承的同时，也会将父类的细节暴露给子类，其破坏了类的封装性，会使子类与父类的耦合度变高，父类实现的任何修改都可能会导致子类的实现发生变化，这不利于类的扩展与维护。